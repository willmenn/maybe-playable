plugins {
    id 'java'
    id 'info.solidsoft.pitest' version '1.3.0'
    id 'jacoco'
}

apply from: 'gradle/scripts/idea.gradle'
group 'chess-case-study'
version '1.0-SNAPSHOT'

sourceSets.main.java.srcDirs = ['src/main/java']
sourceSets.test.java.srcDirs = ['src/test/java']
sourceCompatibility = 1.8

repositories {
    mavenCentral()
}

dependencies {
    testCompile group: 'junit', name: 'junit', version: '4.12'
}

jar {
    manifest {
        attributes 'Implementation-Title': 'Chess Case Study',
                'Implementation-Version': '1.0',
                'Main-Class': 'chess.Main'
    }
}

jacoco {
    toolVersion = "0.8.1"
    reportsDir = file("$buildDir/jacoco")
}

jacocoTestReport {
    reports {
        xml.enabled false
        csv.enabled false
        html.destination file("${buildDir}/jacocoHtml")
    }
}

pitest {
    targetClasses = ['chess.*']  //by default "${project.group}.*"
    targetTests = ['chess.*Test*']
}
build.dependsOn 'pitest'